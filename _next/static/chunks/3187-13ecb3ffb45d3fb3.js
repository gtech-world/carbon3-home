"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3187],{7266:function(e,t,n){n.d(t,{I:function(){return o},g:function(){return i}});var l=n(3342),r=n(8591),a=n.n(r),s=n(2138);function i(e){let{className:t,color:n,size:r="",...i}=e;return(0,l.jsx)("div",{...i,className:a()("text-black w-full h-full flex items-center justify-center",t),children:(0,l.jsx)(s.uur,{color:n,style:r?{fontSize:r}:{},className:"text-[3.125rem] animate-spin"})})}function o(){return(0,l.jsx)(i,{className:"fixed z-50 left-0 top-0 w-full !h-full bg-black/25"})}},3187:function(e,t,n){n.d(t,{i:function(){return f}});var l=n(3342),r=n(8591),a=n.n(r),s=n(6786),i=n(1882),o=n(9685),c=n(7266),d=n(367),u=n(1768);function m(e){let t=(e,t)=>{let n=[];if(t){for(let l=e;l<t;l++)n.push(l);return n}for(let t=0;t<e;t++)n.push(t);return n},{total:n,pgSize:r,pgNum:s,onChange:c,className:d}=e,u=Math.ceil(n/r),m=(0,o.useMemo)(()=>u<=1?[]:u<=6?t(u).map(e=>({name:"".concat(e+1)})):s<=3?t(s+1).map(e=>({name:"".concat(e+1)})).concat([{name:"..."},{name:""+u}]):s>=u-2?[{name:"1"},{name:"..."}].concat(t(s-2,u).map(e=>({name:"".concat(e+1)}))):[{name:"1"},{name:"..."},{name:s-1+""},{name:s+""},{name:s+1+""},{name:"..."},{name:u+""}],[u,s]);return n<=r?null:(0,l.jsx)("div",{className:a()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",d),children:(0,l.jsxs)("div",{className:"flex",children:[u>1&&(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{onClick:()=>{c&&c(1,u)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,l.jsx)(i.JHF,{})}),(0,l.jsx)("span",{onClick:()=>{c&&s>1&&c(s-1,u)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,l.jsx)(i.YFh,{})})]}),m.map((e,t)=>(0,l.jsx)("div",{className:a()(e.name===""+s?"text-white bg-green-2":"bg-white",{omit:"..."===e.name},"mx-[0.185rem] flex items-center justify-center min-w-[32px] h-[32px] px-1.5 rounded-lg","..."!=e.name&&"border cursor-pointer"),onClick:()=>{c&&"..."!==e.name&&c(+e.name,u)},children:e.name},"key_page_".concat(t))),u>1&&(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{onClick:()=>{c&&s<u&&c(s+1,u)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,l.jsx)(i.Tfp,{})}),(0,l.jsx)("span",{onClick:()=>{c&&c(u)},className:" mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,l.jsx)(i.qhs,{})})]})]})})}var x=n(8005);let p={XXXS:60,XXS:80,XS:100,S:120,M:140,L:160,XL:180,XXL:200,XXXL:220},f=e=>{let{columns:t,className:n,size:r="",cellClassName:f,headerClassName:h,maxHeight:v,headerTitle:j,hiddenHeader:g=!1,mouseHoverKey:b="",columnsHeight:y="",isSetBorder:N=!1,tableId:w,columnsClassName:k,columnsWidth:I,data:F,api:S,tableRef:C,columnEmptyText:O,noLoading:X,onChangeColumn:_,setRows:M,params:E,noContainer:L=!1}=e,[V,T]=(0,o.useState)([]),[z,Y]=(0,o.useState)({}),[H,R]=(0,o.useState)({}),[D,q]=(0,o.useState)({}),A=(0,o.useRef)(0),[J,K]=(0,o.useState)(!1),[U,Z]=(0,o.useState)(1),[B,G]=(0,o.useState)(1),[P,Q]=(0,o.useState)({}),W=(0,o.useRef)(X),$=(0,o.useRef)(null),[ee,et]=(0,o.useState)({countId:0,current:0,maxLimit:0,optimizeCountSql:!0,orders:[],pages:0,searchCount:!0,size:10,total:0}),en=(0,o.useCallback)(async()=>{if("function"==typeof S){K(!W.current);try{var e;let t=await S(U);if(K(!1),t&&(null==t?void 0:t.records)&&(null==t?void 0:null===(e=t.records)||void 0===e?void 0:e.length)){let e="function"==typeof M?M(t):t;T([]),T(e.records||[]),et(e)}}catch(e){console.log("error:",e)}finally{K(!1)}}},[S,U]);(0,o.useEffect)(()=>{en()},[en,B]),(0,d.Z)($,()=>{for(let e in z)z[e]&&(z[e].isFilterOpen=!1,Y({...z}))});let el=(0,o.useMemo)(()=>{let e="function"==typeof S?V||[]:F||[];return A.current=e.length,[...e]},[V,U,F]),er=(0,o.useMemo)(()=>"number"==typeof I?I<60?60:I:I&&p[I]||50,[I]),ea=e=>{if(!e.sorter)return{};let t=e.key||e.dataIndex;return{key:t,sortOrder:D.columnKey===t&&D.order}},es=e=>{let t=e.renderText,n=e.render;return"function"==typeof t||"function"==typeof n?(e,l,r)=>(null==t?void 0:t(e,l,r))||(null==n?void 0:n(e,l,r))||" ":(e,t,n)=>n===A.current?e||" ":null!=e?e:O||" "},ei=(0,o.useMemo)(()=>(t||[]).map(e=>{let t=ea(e),n=es(e);return{...e,...t,render:n}}),[t,D,H,er,V,F]);(0,o.useEffect)(()=>{ei.map(e=>{if(e.filterOptions){var t;z[e.dataIndex]={isFilterOpen:!1,filterValueIndex:(null===(t=z[e.dataIndex])||void 0===t?void 0:t.filterValueIndex)>-1?z[e.dataIndex].filterValueIndex:-1}}}),Y(z)},[ei]),(0,o.useImperativeHandle)(C,()=>({reload:e=>{G(B+1),W.current=!0,e&&Z(e)},getDataSource:()=>V,onReset:()=>{},submit:async()=>{}}));let eo=(e,t)=>{Object.assign(z,{[e.dataIndex]:{filterValueIndex:t,isFilterOpen:!1}}),e.onFilterChange&&e.onFilterChange(t>-1?e.filterOptions[t]:null),Y(z)},ec=e=>{z[e.dataIndex].isFilterOpen=!z[e.dataIndex].isFilterOpen,Y({...z})},ed=()=>(0,l.jsx)("div",{className:"text-base leading-[1.625rem]",children:(0,l.jsxs)("div",{className:a()("w-full",n,"small"===r&&"text-xs","big"===r&&"text-lg mo:text-[.9375rem] "),children:[(0,l.jsxs)("table",{border:1,cellSpacing:0,className:"w-full text-left ",id:w,children:[!g&&(0,l.jsx)("thead",{className:a()("bg-gray-14 ",{"border bg-[#E5E5E5]":N},n,"small"===r&&"text-sm"),style:h,children:(0,l.jsx)("tr",{className:"px-3",children:ei&&ei.map((e,t)=>{var n,o;return(0,l.jsxs)("th",{style:{width:e.width?e.width:"auto"},className:a()("px-3 relative break-keep",0===t&&" ".concat(!N&&"rounded-l"||""," overflow-hidden"),t===ei.length-1&&"".concat(!N&&"rounded-r"||""," overflow-hidden"),u.NO[r]||"py-2"),children:[!!(null==e?void 0:e.tip)&&(0,l.jsx)(s.gL9,{"data-tooltip-id":"tooltip","data-tooltip-content":e.tip,className:"inline-block text-xl mt-[-0.15rem] mr-1"}),(0,l.jsx)("span",{children:e.title}),!!z[e.dataIndex]&&(0,l.jsxs)("div",{className:"inline-block",ref:$,children:[(0,l.jsx)(i.Ihx,{color:(null===(n=z[e.dataIndex])||void 0===n?void 0:n.filterValueIndex)>-1?"#29953A":"",onClick:()=>{ec(e)},className:"inline-block text-xl mt-[-0.15rem] ml-1 cursor-pointer"}),z[e.dataIndex].isFilterOpen&&(0,l.jsx)("div",{className:"absolute left-0 font-normal top-10",children:(0,l.jsxs)("ul",{className:"bg-white w-[12.375rem] max-h-[14.875rem] overflow-auto text-sm rounded-lg py-3",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)"},children:[(0,l.jsx)("li",{className:a()("py-2.5 px-5 hover:bg-[#F3F3F3] cursor-pointer",-1===z[e.key].filterValueIndex&&"text-green-2"),onClick:()=>{eo(e,-1)},children:"All"}),null==e?void 0:null===(o=e.filterOptions)||void 0===o?void 0:o.map((t,n)=>(0,l.jsx)("li",{onClick:()=>{eo(e,n)},className:a()("py-1.5 hover:bg-[#F3F3F3] px-5 break-all cursor-pointer",z[e.dataIndex].filterValueIndex===n?"text-green-2":""),children:t.text},"productList".concat(n)))]})})]})]},"columns".concat(t))})})}),!J&&(0,l.jsx)("tbody",{style:{maxHeight:v},className:"w-full overflow-y-auto ",children:el.map((e,t)=>(0,l.jsx)("tr",{className:" column-level-".concat(e.level||0," ").concat(y," "),children:ei.map((n,s)=>(0,l.jsx)("td",{className:a()(k,"px-3 ".concat(P[b]===e[b]&&b?"bg-[#F3F3F3]":"","  "),{border:N},u.NO[r]||"py-2",!!n.tip&&"pl-9",f&&f(n,s,t)),style:{width:n.width?n.width:"auto"},children:(0,l.jsxs)("div",{onMouseOver:()=>b&&Q(e),onClick:()=>"function"==typeof _?_(e):void 0,className:"flex items-center ",style:{marginLeft:(e.level&&0===s?e.level:0)*1.25+"rem"},children:[!!(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0&&0===s&&(0,l.jsx)(i.Tfp,{className:a()("mr-2 cursor-pointer text-gray-9",e.open&&"rotate-[90deg]")}),n.render?n.render(e[n.dataIndex],e,s):n.emptyText&&!e[n.dataIndex]?"-":e[n.dataIndex]]})},"data_column_".concat(s)))},"table_data_".concat(t)))})]}),J?(0,l.jsx)(c.g,{className:"pt-8"}):!(el&&el.length>0)&&(0,l.jsx)("div",{className:"flex justify-center w-full py-20",children:"无数据"})]})});return(0,l.jsxs)("div",{children:[j,L?(0,l.jsx)(ed,{}):(0,l.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,l.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,l.jsx)(ed,{})})}),(0,l.jsx)(m,{className:"py-8",onChange:(e,t)=>{Z(e),1!==e&&t&&(K(!0),W.current=!1,(0,x.k3)())},total:ee.total||0,pgSize:10,pgNum:U})]})}},8005:function(e,t,n){n.d(t,{Ux:function(){return a},k3:function(){return s}});var l=n(5399),r=n.n(l);let a=()=>{let e=r()(),t=e.format("YYYY-MM-DD HH:mm:ss");return t},s=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}}}]);