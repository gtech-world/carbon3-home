(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4704],{6763:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/inventory",function(){return n(1722)}])},5913:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var r=n(959),i=n(6171);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(!0),d=(0,r.useRef)(0),[,a]=(0,r.useState)(1),l=(0,r.useCallback)(e=>{n.current=e,a(e=>1-e)},[]),[o,s]=(0,i.Z)(e,t),c=()=>{n.current||l(!0);let e=d.current+1>1e5?0:d.current+1;d.current=e,s().finally(()=>d.current==e&&l(!1))};return(0,r.useEffect)(()=>{c()},t),(0,r.useMemo)(()=>({...o,value:n.current||o.error?void 0:o.value,loading:n.current,req:c}),[o,n.current])}},1722:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(1527),i=n(1600),d=n(959),a=n(9346),l=n(9869),o=n(5913),s=n(6699),c=function(){let[e,t]=(0,d.useState)(1),[n,c]=(0,d.useState)([]),m=[{title:"碳足迹批次",dataIndex:"loadNumber",width:"18.75rem",render:e=>(0,r.jsx)("span",{className:"max-w-[14rem] truncate inline-block","data-tooltip-id":"tooltip","data-tooltip-content":e,children:e})},{title:"实景数据",dataIndex:"productName",width:"18.75rem",render:e=>(0,r.jsx)("span",{className:"max-w-[14rem] truncate inline-block","data-tooltip-id":"tooltip","data-tooltip-content":e,children:e})},{title:"批次结果ID",dataIndex:"modelName",width:"7.5rem",render:e=>"PCFI-1"},{title:"产品系统名称",width:"18.75rem",dataIndex:"createTime",render:e=>"PCFI-1"},{title:"系统产品ID",width:"8.125rem",dataIndex:"createTime",render:e=>"PCFI-1"},{title:"产品系统版本",width:"9.375rem",dataIndex:"createTime",render:e=>"1"},{title:"描述",dataIndex:"description",width:"18.75rem",emptyText:"-"},{title:"操作人",dataIndex:"description",width:"6.25rem",emptyText:"-"},{title:"生成时间",dataIndex:"description",width:"10.625rem",emptyText:"-"},{title:"碳足迹结果",dataIndex:"description",width:"8.125rem",render:(e,t)=>(0,r.jsx)("div",{className:"flex justify-between text-green-2",children:(0,r.jsx)("span",{className:"cursor-pointer",onClick:()=>window.open("/tools/inventoryResult?id=".concat(t.id),"_blank"),children:"查看结果"})})},{title:"组织名称",dataIndex:"description",width:"8.125rem",emptyText:"-"},{title:"组织编号",dataIndex:"description",width:"8.125rem",emptyText:"-"},{title:"",width:"7.2rem",render:(e,t)=>(0,r.jsx)("div",{className:"flex justify-between text-green-2"})}],{value:u,loading:x}=(0,o.k)((0,s.Pf)(()=>(0,s.SO)({pgNum:e}),[e]),[e]);return(0,d.useMemo)(()=>{if(!(null==u?void 0:u.records))return[];let e=[];u.records.map(t=>{e.push({id:t.id,createTime:t.createTime,loadNumber:t.loadNumber,productName:t.product.name,modelName:t.model.modelName,description:t.model.description})}),c(e)},[u]),(0,r.jsxs)(i.m,{isNew:!0,className:"flex flex-col justify-between flex-1 text-black ",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h3",{className:"mt-8 text-2xl font-semibold",children:"我的产品碳足迹结果"}),(0,r.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,r.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,r.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,r.jsx)(a.i,{columns:m,columnsHeight:"h-[3.125rem]",mouseHoverKey:"id",data:n,loading:x,className:"",headerStyle:{background:"#fff"}})})})})]}),(0,r.jsx)(l.t,{className:"my-8",onChange:e=>{t(e)},total:(null==u?void 0:u.total)?u.total:0,pgSize:10,pgNum:e})]})}}},function(e){e.O(0,[713,769,7307,6574,9809,2351,9829,9774,2888,179],function(){return e(e.s=6763)}),_N_E=e.O()}]);