(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75],{6867:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/verificationManagement",function(){return n(274)}])},274:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(1527),a=n(1600),i=n(959),l=n(9346),s=n(9869),o=n(6699),d=n(1191),c=n(9049),u=n(4875),m=n.n(u),x=e=>{let{closeModal:t,title:n,isSingle:a=!1}=e,l=(0,i.useRef)(null);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(c.u_,{className:"rounded-lg",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:n,onClose:t,children:(0,r.jsxs)("div",{className:"mx-5 max-w-[640px] ",children:[(0,r.jsx)("span",{className:"font-normal leading-6 text-[16px]",children:"验证记录："}),(0,r.jsx)("input",{id:"loadName",name:"loadName",maxLength:30,className:"w-full mb-[20px] mt-[10px] border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,r.jsx)("span",{className:"font-normal leading-6 text-[16px]",children:"产品系统："}),(0,r.jsx)("select",{id:"productId",name:"productId",className:"w-full mb-[20px] mt-[10px] border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,r.jsx)("span",{className:"font-normal leading-6 text-[16px]",children:"描述："}),(0,r.jsx)("input",{id:"loadName",name:"loadName",maxLength:30,className:"w-full mb-[20px] mt-[10px] border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,r.jsx)("div",{className:"font-normal leading-6 text-[16px] mb-[10px]",children:"发起人："}),(0,r.jsx)("div",{className:"font-normal leading-[21.79px] text-[16px] text-[#666666] mb-[20px]",children:"Cherry"}),(0,r.jsx)("div",{className:"font-normal leading-6 text-[16px] mb-[10px]",children:"组织机构："}),(0,r.jsx)("div",{className:"font-normal leading-[21.79px] text-[16px] text-[#666666] mb-[20px]",children:"蔚来江淮"}),(0,r.jsx)("div",{className:"font-normal leading-6 text-[16px] mb-[10px]",children:"附件："}),(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("img",{src:"/vector_icon.svg"}),(0,r.jsx)("div",{className:" ml-2 mr-[10px] font-normal  leading-6 text-[16px] text-[#666666]",children:"验证文件"}),(0,r.jsx)("input",{ref:l,type:"file",hidden:!0,accept:".",onChange:()=>{console.log("FileRefFileRef",l.current)}}),(0,r.jsx)("div",{onClick:e=>{var t;return null===(t=l.current)||void 0===t?void 0:t.click()},className:" flex cursor-pointer rounded-[4px] leading-4 text-[16px] bg-[#F1F1F1] w-[100px] h-[24px]  text-center items-center justify-center ",children:"选择文件夹"})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[!a&&(0,r.jsx)("div",{onClick:t,className:" cursor-pointer bg-[#29953A1A] w-[310px] text-[18px] border-2 border-[#29953A]   font-normal  text-[#29953A] flex h-[50px] rounded-lg justify-center items-center",children:"取消"}),(0,r.jsx)("button",{id:"myButton",className:m()("cursor-pointer bg-[#29953A] text-[18px] font-normal  text-[#FFFFFF] flex h-[50px] rounded-lg justify-center items-center",{"w-[310px] ":!a,"w-full ":a}),children:a?"提交更新":"确定"})]})]})})})};let f=[{file:"",name:"ES6 2023 100kWh 运动版200-300"},{file:"",name:"ES6 2023 100kWh 运动版200-300"},{file:"",name:"ES6 2023 100kWh 运动版200-300"},{file:"",name:"ES6 2023 100kWh 运动版200-300"},{file:"",name:"ES6 2023 100kWh 运动版200-300"}];var p=e=>{let{closeModal:t}=e;return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(c.u_,{onClose:t,title:"查看文件夹",children:[f.map((e,t)=>(0,r.jsx)("div",{id:"view",className:"w-[640px] h-[34px] flex items-center ",children:(0,r.jsx)("span",{className:"ml-[10px] leading-5 text-[16px] font-normal",children:e.name})},"file_".concat(t))),(0,r.jsx)("button",{className:"bg-[#29953A] w-full h-[50px] rounded-lg text-[#FFFFFF] mt-5",children:"下载"})]})})},h=function(){let[e,t]=(0,i.useState)(1),[n,c]=(0,i.useState)({}),[u,m]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1);(0,i.useRef)({inputData:"",data:""});let g=(0,i.useRef)({}),w=e=>{h(!0)},v=(0,i.useMemo)(()=>[{title:"验证记录",dataIndex:"loadName",width:"10rem",render:e=>(0,r.jsx)("span",{className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:e})},{title:"验证记录ID",dataIndex:"productName",width:"6rem",render:(e,t)=>(0,r.jsx)("div",{className:"flex justify-center text-lg leading-[27px]  w-[8rem] bg-[#F1F1F1] rounded",children:(0,r.jsx)("span",{className:"cursor-pointer ",children:"查看实景数据"})})},{title:"发起人",dataIndex:"loadNumber",width:"8rem",render:e=>(0,r.jsx)("span",{"data-tooltip-content":e,"data-tooltip-id":"tooltip",className:" text-lg leading-[27px] w-[13rem]  truncate inline-block",children:e})},{title:"组织机构",width:"2rem",dataIndex:"productName",render:e=>(0,r.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:e})},{title:"碳足迹批次",dataIndex:"loadName",width:"10rem",render:e=>(0,r.jsx)("span",{className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:e})},{title:"碳足迹批次ID",dataIndex:"loadName",width:"10rem",render:e=>(0,r.jsx)("span",{className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:e})},{title:"附件",dataIndex:"productDescription",width:"18.75rem",render:e=>(0,r.jsxs)("div",{onClick:()=>w(),className:"w-[112px] flex flex-row bg-[#F1F1F1] justify-center rounded",children:[(0,r.jsx)("img",{src:"/vector_icon.svg"}),(0,r.jsx)("div",{className:"ml-2 ",children:"验证文件"})]})},{title:"最后编辑",dataIndex:"operator",width:"6.25rem",render:e=>(0,r.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:e})},{title:"验证人",dataIndex:"calculateSuccessTime",width:"18.625rem",render:e=>(0,r.jsx)("span",{className:"max-w-[11rem] text-lg leading-[27px]  truncate inline-block",children:e})},{title:"验证文档",dataIndex:"description",width:"8.125rem",render:e=>(0,r.jsxs)("div",{className:"w-[112px] flex flex-row bg-[#F1F1F1] justify-center rounded",children:[(0,r.jsx)("img",{src:"/vector_icon.svg"}),(0,r.jsx)("div",{className:"ml-2 ",children:"验证文件"})]})},{title:"验证状态",dataIndex:"orgName",width:"8.125rem",render:e=>(0,r.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:e})},{title:"验证时间",dataIndex:"orgSerialNumber",width:"8.125rem",emptyText:"-",render:e=>(0,r.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:e})},{title:"",width:"20rem",render:(e,t)=>(0,r.jsx)("div",{className:"flex justify-between flex-1 text-green-2 break-keep",children:(0,r.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:()=>N(t),children:"编辑"})})}],[]),b=async()=>{try{let t=await (0,o.h4)(e);c(t)}catch(e){console.log("eeee",e)}};(0,i.useEffect)(()=>{b();let e=setInterval(()=>{b()},1e4);return()=>{clearInterval(e)}},[e]);let N=e=>{m(!0),g.current=e};return(0,r.jsxs)(a.m,{isNew:!0,className:"flex flex-col justify-between flex-1 text-black ",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("h3",{className:"flex items-center justify-between mt-8 text-2xl font-semibold",children:[(0,r.jsx)("span",{children:"验证管理列表"}),(0,r.jsx)(d.z,{onClick:()=>N({}),className:"w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11",children:"新建验证记录"})]}),(0,r.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,r.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,r.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,r.jsx)(l.i,{columns:v,columnsHeight:"h-[3.125rem] ",mouseHoverKey:"loadNumber",data:(null==n?void 0:n.records)||[],className:"",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,r.jsx)(s.t,{className:"my-8",onChange:e=>{t(e)},total:n.total||0,pgSize:10,pgNum:e}),u&&(0,r.jsx)(x,{title:"{}"===JSON.stringify(g.current)?"新建验证记录":"编辑验证记录",isSingle:"{}"!==JSON.stringify(g.current),singleBtnTitle:"",editInfoData:g.current,closeModal:()=>{m(!1),g.current={}}}),f&&(0,r.jsx)(p,{closeModal:()=>{h(!1)}})]})}},8723:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(959),a=["mousedown","touchstart"],i=function(e,t,n){void 0===n&&(n=a);var i=(0,r.useRef)(t);(0,r.useEffect)(function(){i.current=t},[t]),(0,r.useEffect)(function(){for(var t=function(t){var n=e.current;n&&!n.contains(t.target)&&i.current(t)},r=0,a=n;r<a.length;r++){var l=a[r];!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(document,l,t)}return function(){for(var e=0,r=n;e<r.length;e++){var a=r[e];!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(document,a,t)}}},[n,e])}},9592:function(e,t,n){"use strict";var r=n(959),a=function(e,t){return"boolean"==typeof t?t:!e};t.Z=function(e){return(0,r.useReducer)(a,e)}},732:function(e,t,n){"use strict";let r,a,i;n.d(t,{ZP:function(){return S}});let l=new Set,s=new WeakMap,o=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,m=new WeakMap,x=new WeakMap,f=new WeakSet,p="__aa_tgt",h="__aa_del";function g(e){clearTimeout(x.get(e));let t=F(e),n="function"==typeof t?500:t.duration;x.set(e,setTimeout(async()=>{let t=d.get(e);try{await (null==t?void 0:t.finished),s.set(e,j(e)),function(e){let t=c.get(e);null==t||t.disconnect();let n=s.get(e),a=0;n||(n=j(e),s.set(e,n));let{offsetWidth:i,offsetHeight:l}=r,o=[n.top-5,i-(n.left+5+n.width),l-(n.top+5+n.height),n.left-5],d=o.map(e=>`${-1*Math.floor(e)}px`).join(" "),u=new IntersectionObserver(()=>{++a>1&&g(e)},{root:r,threshold:1,rootMargin:d});u.observe(e),c.set(e,u)}(e)}catch{}},n))}function w(e){setTimeout(()=>{u.set(e,setInterval(()=>v(g.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function v(e){"function"==typeof requestIdleCallback?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}function b(e,t){t||p in e?!t||p in t||Object.defineProperty(t,p,{value:e}):Object.defineProperty(e,p,{value:e})}function N(e){return Number(e.replace(/[^0-9.\-]/g,""))}function j(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function y(e,t,n){let r=t.width,a=t.height,i=n.width,l=n.height,s=getComputedStyle(e),o=s.getPropertyValue("box-sizing");if("content-box"===o){let e=N(s.paddingTop)+N(s.paddingBottom)+N(s.borderTopWidth)+N(s.borderBottomWidth),t=N(s.paddingLeft)+N(s.paddingRight)+N(s.borderRightWidth)+N(s.borderLeftWidth);r-=t,i-=t,a-=e,l-=e}return[r,i,a,l].map(Math.round)}function F(e){return p in e&&m.has(e[p])?m.get(e[p]):{duration:250,easing:"ease-in-out"}}function k(e){if(p in e)return e[p]}function E(e){let t=k(e);return!!t&&f.has(t)}function C(e,...t){t.forEach(t=>t(e,m.has(e)));for(let n=0;n<e.children.length;n++){let r=e.children.item(n);r&&t.forEach(e=>e(r,m.has(r)))}}function S(e,t={}){if(a&&i){let n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=n.matches&&"function"!=typeof t&&!t.disrespectUserMotionPreference;r||(f.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),C(e,g,w,e=>null==i?void 0:i.observe(e)),"function"==typeof t?m.set(e,t):m.set(e,{duration:250,easing:"ease-in-out",...t}),a.observe(e,{childList:!0}),l.add(e))}return Object.freeze({parent:e,enable:()=>{f.add(e)},disable:()=>{f.delete(e)},isEnabled:()=>f.has(e)})}"undefined"!=typeof window&&(r=document.documentElement,a=new MutationObserver(e=>{let t=function(e){let t=e.reduce((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)],[]),n=t.every(e=>"#comment"===e.nodeName);return!n&&e.reduce((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(b(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){let r=t.target.children.item(n);if(r){if(h in r)return!1;b(t.target,r),e.add(r)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){let r=t.removedNodes[n];if(h in r)return!1;r instanceof Element&&(e.add(r),b(t.target,r),o.set(r,[t.previousSibling,t.nextSibling]))}}return e},new Set)}(e);t&&t.forEach(e=>(function(e){var t;let n=e.isConnected,r=s.has(e);n&&o.has(e)&&o.delete(e),d.has(e)&&(null===(t=d.get(e))||void 0===t||t.cancel()),r&&n?function(e){let t;let n=s.get(e),r=j(e);if(!E(e))return s.set(e,r);if(!n)return;let a=F(e);if("function"!=typeof a){let i=n.left-r.left,l=n.top-r.top,[s,o,d,c]=y(e,n,r),u={transform:`translate(${i}px, ${l}px)`},m={transform:"translate(0, 0)"};s!==o&&(u.width=`${s}px`,m.width=`${o}px`),d!==c&&(u.height=`${d}px`,m.height=`${c}px`),t=e.animate([u,m],{duration:a.duration,easing:a.easing})}else(t=new Animation(a(e,"remain",n,r))).play();d.set(e,t),s.set(e,r),t.addEventListener("finish",g.bind(null,e))}(e):r&&!n?function(e){var t;let n;if(!o.has(e)||!s.has(e))return;let[r,a]=o.get(e);function i(){var t;e.remove(),s.delete(e),o.delete(e),d.delete(e),null===(t=c.get(e))||void 0===t||t.disconnect()}if(Object.defineProperty(e,h,{value:!0}),a&&a.parentNode&&a.parentNode instanceof Element?a.parentNode.insertBefore(e,a):r&&r.parentNode?r.parentNode.appendChild(e):null===(t=k(e))||void 0===t||t.appendChild(e),!E(e))return i();let[l,u,m,x]=function(e){let t=s.get(e),[n,,r]=y(e,t,j(e)),a=e.parentElement;for(;a&&("static"===getComputedStyle(a).position||a instanceof HTMLBodyElement);)a=a.parentElement;a||(a=document.body);let i=getComputedStyle(a),l=s.get(a)||j(a),o=Math.round(t.top-l.top)-N(i.borderTopWidth),d=Math.round(t.left-l.left)-N(i.borderLeftWidth);return[o,d,n,r]}(e),f=F(e),p=s.get(e);Object.assign(e.style,{position:"absolute",top:`${l}px`,left:`${u}px`,width:`${m}px`,height:`${x}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof f?n=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:f.duration,easing:"ease-out"}):(n=new Animation(f(e,"remove",p))).play(),d.set(e,n),n.addEventListener("finish",i)}(e):function(e){let t;let n=j(e);s.set(e,n);let r=F(e);E(e)&&("function"!=typeof r?t=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*r.duration,easing:"ease-in"}):(t=new Animation(r(e,"add",n))).play(),d.set(e,t),t.addEventListener("finish",g.bind(null,e)))}(e)})(e))}),(i=new ResizeObserver(e=>{e.forEach(e=>{e.target===r&&(clearTimeout(x.get(r)),x.set(r,setTimeout(()=>{l.forEach(e=>C(e,e=>v(()=>g(e))))},100))),s.has(e.target)&&g(e.target)})})).observe(r))}},function(e){e.O(0,[713,769,307,574,740,351,340,774,888,179],function(){return e(e.s=6867)}),_N_E=e.O()}]);