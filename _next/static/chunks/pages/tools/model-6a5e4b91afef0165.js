(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{1344:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/model",function(){return n(4457)}])},7921:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var a=n(1527),l=n(4875),s=n.n(l);function r(e){const{children:t,className:n,...l}=e;return(0,a.jsx)("button",{...l,className:s()(n,"hover:bg-green-28"),children:e.children})}},4457:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(1527),l=n(7944),s=n(959),r=n(8288),i=n(3046),d=n(7921),c=n(9601),o=n(7361),u=n(4726),x=n(818),m=n(3190);var p=function(){const[e,t]=(0,s.useState)(null),[n,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(-1),[g,j]=(0,s.useState)(!1),[N,v]=(0,s.useState)(1),[b,w]=(0,s.useState)(1),k=(0,s.useRef)(null),C=(0,m.useRouter)(),{value:y,loading:_}=(0,o.k)((0,u.Pf)((()=>(0,u.BI)({pgNum:N})),[N,b]),[N,b]),I=(0,s.useMemo)((()=>{if(!(null===y||void 0===y?void 0:y.records))return[];let e=[];return y.records.map((t=>{e.push({id:t.id,modelName:t.modelName,modelUuid:t.modelUuid,productName:t.product.name,state:t.state,createTime:t.createTime,paramDetail:JSON.parse(t.paramDetail)[0].parameters.map((e=>{var t;return{context:e.name,parameter:e.context.name,amount:e.value,uncertainty:(null===e||void 0===e||null===(t=e.uncertainty)||void 0===t?void 0:t.distributionType)||null,description:e.description}}))})})),e}),[y]),S=[{title:"\u6a21\u578b\u540d\u79f0",dataIndex:"modelName"},{title:"\u6a21\u578bID",dataIndex:"modelUuid"},{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"productName"},{title:"\u72b6\u6001",dataIndex:"state",render:e=>{let t="";switch(e){case 0:t="\u5f03\u7528";break;case 1:t="\u6fc0\u6d3b";break;case-1:t="\u8349\u7a3f"}return(0,a.jsx)("span",{children:t})}},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"createTime"},{title:"",render:(e,n)=>(0,a.jsxs)("div",{className:"flex flex-1 justify-between text-green-2",children:[(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>{1===n.state&&C.push("/model?id=".concat(n.id))},children:"\u67e5\u770b\u6a21\u578b"}),(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>p(n),children:"\u67e5\u770b\u5b9e\u666f\u6570\u636e"}),(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>t(n),children:"\u66f4\u6539\u72b6\u6001"})]})}],T=async n=>{j(!0),await(0,u.pF)(e.id,n),w(b+1),j(!1),t(null)};return(0,a.jsxs)(l.m,{className:"text-black flex flex-col justify-between flex-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-2xl font-semibold mt-8 flex justify-between items-center",children:[(0,a.jsx)("span",{children:"\u4ea7\u54c1\u78b3\u8db3\u8ff9\u6a21\u578b\u7ba1\u7406"}),(0,a.jsx)(d.z,{onClick:()=>k.current.click(),className:"text-lg bg-green-2 w-40 text-white rounded-lg h-11 font-normal",children:"\u4e0a\u4f20\u78b3\u8db3\u8ff9\u6a21\u578b"})]}),(0,a.jsx)("div",{className:"bg-white p-5 rounded-2xl text-base mt-5 leading-[1.625rem]",children:(0,a.jsx)(r.i,{columns:S,loading:_,cellClassName:(e,t,n)=>n%2===0?"bg-gray-16 ".concat(0===t&&"rounded-l-lg"," ").concat(t===S.length-1&&"rounded-r-lg"):"",data:I,className:"",headerStyle:{background:"#fff"}})})]}),(0,a.jsx)(c.t,{onChange:e=>{v(e)},className:"my-8",total:(null===y||void 0===y?void 0:y.total)?y.total:0,pgSize:10,pgNum:N}),null!==e&&(0,a.jsx)(i.u_,{title:"\u66f4\u6539\u72b6\u6001",onClose:()=>t(null),children:(0,a.jsx)("div",{className:"flex",children:g?(0,a.jsx)(x.g,{}):(0,a.jsxs)("div",{className:"flex flex-1",children:[e.state>-2&&(0,a.jsx)(d.z,{onClick:()=>T(1===e.state?0:1),className:"text-lg bg-green-2 w-full text-white rounded-lg flex-1 h-11",children:1===e.state?"\u5f03\u7528":"\u6fc0\u6d3b"}),-1===e.state&&(0,a.jsx)(d.z,{onClick:()=>T(-2),className:"text-lg border-2 border-green-2 ml-5 bg-green-2/10 w-full text-green-2 hover:text-white hover:bg-green-2 rounded-lg flex-1 h-11",children:"\u5220\u9664"})]})})}),!!n&&(0,a.jsx)(i.u_,{title:"PC Transport C-Model V1.0\u6a21\u578b\u4e2d\u7684\u5b9e\u666f\u8f93\u5165\u9879",onClose:()=>p(null),children:(0,a.jsx)("div",{className:"flex w-[60rem] min-h-[300px]",children:(0,a.jsx)(r.i,{columns:[{title:"\u5b9e\u666f\u8f93\u5165\u9879",dataIndex:"context"},{title:"\u8fc7\u7a0b\u540d\u79f0",dataIndex:"parameter"},{title:"\u53c2\u8003\u503c",dataIndex:"amount"},{title:"\u4e0d\u786e\u5b9a\u6027",dataIndex:"uncertainty",emptyText:"-"},{title:"\u63cf\u8ff0",dataIndex:"description",emptyText:"-"}],data:n.paramDetail})})}),h>-1&&(0,a.jsx)(i.u_,{title:"\u4e0a\u4f20\u78b3\u8db3\u8ff9\u6a21\u578b",onClose:()=>f(-1),children:(0,a.jsxs)("div",{className:"text-center pb-2",children:[0===h&&(0,a.jsx)(x.g,{}),1===h&&(0,a.jsx)("span",{children:"\u4e0a\u4f20\u6210\u529f\uff01"}),2===h&&(0,a.jsx)("span",{children:"\u4e0a\u4f20\u5931\u8d25\uff01"})]})}),(0,a.jsx)("input",{ref:k,onChange:async e=>{const t=new FormData;t.append("name","gtech"),t.append("file",e.target.files[0]),t.append("productId","1"),f(0);await(0,u.av)(t)?(f(1),k.current.value="",w(b+1)):f(2)},type:"file",hidden:!0})]})}}},function(e){e.O(0,[574,713,819,774,888,179],(function(){return t=1344,e(e.s=t);var t}));var t=e.O();_N_E=t}]);