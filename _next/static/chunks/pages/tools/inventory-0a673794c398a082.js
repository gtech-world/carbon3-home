(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4704],{404:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/inventory",function(){return n(6193)}])},7361:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var l=n(959),r=n(6171);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,l.useRef)(!0),a=(0,l.useRef)(0),[,o]=(0,l.useState)(1),i=(0,l.useCallback)(e=>{n.current=e,o(e=>1-e)},[]),[d,c]=(0,r.Z)(e,t),s=()=>{n.current||i(!0);let e=a.current+1>1e5?0:a.current+1;a.current=e,c().finally(()=>a.current==e&&i(!1))};return(0,l.useEffect)(()=>{s()},t),(0,l.useMemo)(()=>({...d,value:n.current||d.error?void 0:d.value,loading:n.current,req:s}),[d,n.current])}},6193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var l=n(1527),r=n(7944),a=n(959),o=n(8288),i=n(9601),d=n(7361),c=n(4726),s=function(){let[e,t]=(0,a.useState)(1),[n,s]=(0,a.useState)([]),u=[{title:"产品批次号",dataIndex:"loadNumber",width:"14rem",render:e=>(0,l.jsx)("span",{className:"max-w-[14rem] truncate inline-block","data-tooltip-id":"tooltip","data-tooltip-content":e,children:e})},{title:"产品名称",dataIndex:"productName",width:"14rem",render:e=>(0,l.jsx)("span",{className:"max-w-[14rem] truncate inline-block","data-tooltip-id":"tooltip","data-tooltip-content":e,children:e})},{title:"模型名称",dataIndex:"modelName",width:"12.5rem",render:e=>(0,l.jsx)("span",{className:"max-w-[12.5rem] truncate inline-block","data-tooltip-id":"tooltip","data-tooltip-content":e,children:e})},{title:"报告时间",width:"12rem",dataIndex:"createTime"},{title:"",width:"7.2rem",render:(e,t)=>(0,l.jsx)("div",{className:"flex justify-between text-green-2",children:(0,l.jsx)("span",{className:"cursor-pointer",onClick:()=>window.open("/tools/inventoryResult?id=".concat(t.id),"_blank"),children:"碳足迹结果"})})}],{value:m,loading:f}=(0,d.k)((0,c.Pf)(()=>(0,c.SO)({pgNum:e}),[e]),[e]);return(0,a.useMemo)(()=>{if(!(null==m?void 0:m.records))return[];console.log(JSON.parse(m.records[0].lcaResult));let e=[];m.records.map(t=>{e.push({id:t.id,createTime:t.createTime,loadNumber:t.loadNumber,productName:t.product.name,modelName:t.model.modelName,description:t.model.description})}),s(e)},[m]),(0,l.jsxs)(r.m,{className:"text-black flex flex-col justify-between flex-1",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold mt-8",children:"产品碳足迹实景清单管理"}),(0,l.jsx)("div",{className:"w-full bg-white p-5 mt-5 rounded-2xl",children:(0,l.jsx)("div",{className:"mt-5 pb-6 overflow-x-auto",children:(0,l.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,l.jsx)(o.i,{columns:u,cellClassName:(e,t,n)=>n%2==0?"bg-gray-16 ".concat(0===t&&"rounded-l-lg"," ").concat(t===u.length-1&&"rounded-r-lg"):"",data:n,loading:f,className:"",headerStyle:{background:"#fff"}})})})})]}),(0,l.jsx)(i.t,{className:"my-8",onChange:e=>{t(e)},total:(null==m?void 0:m.total)?m.total:0,pgSize:10,pgNum:e})]})}}},function(e){e.O(0,[713,769,7307,6574,9809,570,4960,9774,2888,179],function(){return e(e.s=404)}),_N_E=e.O()}]);