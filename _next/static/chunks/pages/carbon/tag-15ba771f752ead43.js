(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{7741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/carbon/tag",function(){return n(6575)}])},5768:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(3342);n(9685);var a=n(8591),c=n.n(a),i=n(9321);function o(e){let{qrText:t,className:n,qrcodeDisable:a,data:o,orgName:l,name:s="Certified"}=e;return console.log("data",o),(0,r.jsx)("div",{className:c()("",n),children:(0,r.jsx)("div",{className:"p-1 border-[4px] border-green-2 rounded-[2.25rem]",children:(0,r.jsxs)("div",{className:c()("py-2 px-6 rounded-[1.90rem] border-[1.75px] border-green-2 flex justify-center items-center mo:px-3"),children:[(0,r.jsxs)("div",{className:"border-r-[3px] border-green-4 pr-5 mr-5 flex flex-col justify-between h-full",children:[(0,r.jsx)("img",{className:"mb-2",src:"/carbon3_name.svg",alt:""}),(0,r.jsx)("img",{className:"w-[6.875rem]",src:"/earth_1.png",alt:""})]}),(0,r.jsxs)("div",{className:"w-[7.125rem] flex flex-col items-center",children:[(0,r.jsx)("p",{className:"text-[0.6875rem] mmd:text text-center mb-2 leading-[0.945rem] font-semibold mo:leading-[0.865rem]",children:t||"Product Carbon Footprint ".concat(s," ")}),(0,r.jsx)(i.ZP,{style:{width:"100%",height:"100%"},value:o})]})]})})})}},2821:function(e,t,n){"use strict";n.d(t,{Cd:function(){return o},Ni:function(){return c},gI:function(){return i}});var r=n(1645),a=n(8172);async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=await a.default.get((0,r.uJ)("/api/sbt/token/list/?pageNum=".concat(e,"&pageSize=999")),(0,r.aH)());return(0,r.Yu)(t)}async function i(e){let t=await a.default.get((0,r.uJ)("/api/sbt/token/uuid/".concat(e)));return(0,r.Yu)(t)}async function o(e){let t=await a.default.get((0,r.uJ)("/api/sbt/token/nft/".concat(e)));return(0,r.Yu)(t)}},1645:function(e,t,n){"use strict";n.d(t,{Yu:function(){return l},aH:function(){return o},pd:function(){return s},uJ:function(){return i}});var r=n(3958),a=n(8172),c=n(3140);function i(e){return"".concat(c.Sg).concat(e)}function o(){let e=(0,r.is)();return e?{headers:{Authorization:"Bearer ".concat(e.loginToken)}}:{}}function l(e){var t;let n=e.data;if(!n||1e5!==n.code)throw n.message;return null===(t=e.data)||void 0===t?void 0:t.data}async function s(e){let t=await a.default.get(i("/api/verifyRecord/list/?pageNum=".concat(e,"&pageSize=10")),o());return l(t)}},6575:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(3342),a=n(4367),c=n(5768),i=n(2821),o=n(4092),l=n(8245),s=n.n(l),u=n(9685),d=n(8005);function f(e){let{title:t,icon:n,qrcodeDisable:a,by:i,id:o,link:l,qrCode:u,orgName:d,name:f}=e.data;return(0,r.jsxs)("div",{className:"flex flex-col justify-between p-5 mb-5 text-base bg-white rounded-lg mo:w-full mo:mr-0",children:[(0,r.jsx)(c.n,{qrcodeDisable:a,data:u,orgName:d,name:f}),(0,r.jsxs)("div",{className:"flex flex-col mt-5 ",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold",children:["完成[",t,"]产品碳足迹测算"]}),(0,r.jsx)("span",{children:i}),(0,r.jsxs)("span",{children:["标签ID : ",o]})]}),(0,r.jsx)("div",{className:"flex flex-col text-blue-0 underline mt-2.5 font-semibold",children:l.map((e,t)=>(0,r.jsx)(s(),{target:e.target,className:"mt-2.5",href:e.href,children:e.text},"link".concat(t)))})]})}var m=function(){let[e,t]=(0,u.useState)(),[n,c]=(0,u.useState)(""),l=async()=>{let e=await (0,i.Ni)();e.records=((null==e?void 0:e.records)||[]).map(e=>{let{loadName:t,proofTime:a,tokenId:c,tokenUrl:i,orgName:l,orgType:s,uuid:u,verifyUserName:f}=e,m="aicp"!==s?"Certified":"Verified";return{title:t,icon:(0,r.jsx)(o.Z,{className:"w-[2.75rem]"}),by:"".concat((0,d.Ux)(a,"YYYY年MM月DD日"),"签发 by ").concat(l),id:u,qrcodeDisable:!1,name:m,link:[{text:"标签信息",href:"/car?vin=".concat(u)},{text:"在区块链浏览器查看",target:"_blank",href:"/blockchain?tokenId=".concat(c,"&name=").concat(m)}],tokenId:c,orgName:l,qrCode:"".concat(n||"https://aicp.gtech.world","/car?vin=").concat(u)}}),t(e)};return(0,u.useEffect)(()=>{var e,t;l(),c(null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.origin)},[]),console.log("current",e),(0,r.jsx)(a.N,{className:"h-full bg-gray-16",children:(0,r.jsx)("div",{className:"grid grid-cols-3 gap-5 mo:flex mo:flex-wrap ",children:((null==e?void 0:e.records)||[]).map((e,t)=>(0,r.jsx)(f,{data:e},"tagData".concat(t)))})})}},8005:function(e,t,n){"use strict";n.d(t,{EX:function(){return l},Ux:function(){return c},iT:function(){return o},k3:function(){return i}});var r=n(5399),a=n.n(r);let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=a()(e),r=n.format(t);return r},i=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},o=(e,t)=>e.length>t?e:"",l=e=>{let t=null==e?void 0:e.match(/(\d+\.\d{2})/);if(!t||!(t.length>1))return"";{let e=parseFloat(t[1]).toFixed(2);return"".concat(e,"kg")}}}},function(e){e.O(0,[3268,1271,7588,3309,8245,1637,4367,9774,2888,179],function(){return e(e.s=7741)}),_N_E=e.O()}]);