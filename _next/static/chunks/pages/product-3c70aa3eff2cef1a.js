(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7394:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return n(6184)}])},5462:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(1527),r=n(9080),s=n(2132),i=n(4875),l=n.n(i),c=n(3190),o=n(959),d=n(8633),u=n(3961),m=n(7007);function x(e){const{className:t,children:n,...i}=e,{push:x,pathname:p}=(0,c.useRouter)(),f=function(){const{t:e}=(0,d.$G)();return(0,o.useMemo)((()=>r.aj.map((t=>({...t,txt:e(t.txt)})))),[e])}(),h=(0,s.E)(),g=(0,m.R)(),b=e=>e.replace(/^\//,"").split("/")[0];return(0,a.jsxs)(u.se,{className:"flex text-black bg-white",children:[(0,a.jsx)("div",{className:"self-start relative w-[16.25rem] p-5 min-h-full mo:hidden",children:(0,a.jsx)("div",{style:{top:"calc(5.5rem + ".concat(g,"px)")},className:"w-full sticky top-[5.5rem]",children:f.map(((e,t)=>(0,a.jsxs)("div",{onClick:t=>{t.preventDefault(),x(e.to)},className:l()("cursor-pointer w-full py-3 pl-4 flex items-center flex-nowrap text-black rounded-lg",{"!text-green-2 bg-green-2/10":b(e.to)===b(p)},e.to,p),children:[(0,a.jsx)(e.icon,{className:"mr-3 text-2xl"}),(0,a.jsx)("span",{className:"whitespace-nowrap text-lg font-medium",children:e.txt})]},"menus-".concat(t))))})}),(0,a.jsx)("div",{ref:h,className:l()("flex-1 p-5 bg-gray-16 mo:w-full",t),...i,children:n})]})}},8503:function(e,t,n){"use strict";n.d(t,{P:function(){return m},d:function(){return u}});var a=n(1527),r=n(2132),s=n(4875),i=n.n(s),l=n(959),c=n(7994),o=n(9592),d=n(8723);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[n,a]=(0,l.useState)(t);return(0,l.useEffect)((()=>{a(t)}),[e,t]),{onChange:a,items:e,current:n}}function m(e){const{items:t,current:n,onChange:s,className:u}=e,m=t[n]?t[n].text:"",[x,p]=(0,o.Z)(!1),f=(0,l.useCallback)((e=>{n!==e&&s(e)}),[n]),h=(0,r.E)("t-side");return(0,d.Z)(h,(()=>x&&p(!1))),0===t.length?null:(0,a.jsxs)("div",{ref:h,className:i()("bg-white text-black px-5 py-3 text-lg rounded-lg relative w-[31.25rem] cursor-pointer mo:w-full mo:text-sm",u),onClick:()=>p(),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:m}),x?(0,a.jsx)(c.pzk,{}):(0,a.jsx)(c._i7,{})]}),x&&(0,a.jsx)("div",{className:"absolute left-0 w-full bg-white rounded-lg overflow-hidden py-3",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",top:"calc(100% + 8px)"},children:t.map(((e,t)=>(0,a.jsx)("div",{style:{},className:i()("w-full px-5 py-2 text-sm",{"text-green-2":t===n}),onClick:()=>f(t),children:e.text},"select_item_".concat(t))))})]})}},8288:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var a=n(1527),r=n(4875),s=n.n(r),i=n(2490);function l(e){const{columns:t,data:n,className:r,headerStyle:l,rowClassName:c,stripe:o=!1}=e;return(0,a.jsx)("div",{className:s()("w-full mo:text-[.9375rem] mo:overflow-x-auto mo:pb-5",r),children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-14",style:l,children:(0,a.jsx)("tr",{className:"px-3",children:t.map(((e,n)=>(0,a.jsxs)("th",{className:s()("px-3 py-2 relative whitespace-nowrap",0===n&&"rounded-l overflow-hidden",n===t.length-1&&"rounded-r overflow-hidden"),children:[!!e.tip&&(0,a.jsx)(i.gL9,{"data-tooltip-id":"tooltip","data-tooltip-content":e.tip,className:"inline-block text-xl mt-[-0.15rem] mr-1"}),(0,a.jsx)("span",{children:e.title})]},"columns".concat(n))))})}),(0,a.jsx)("tbody",{children:n.map(((e,n)=>(0,a.jsx)("tr",{className:s()(o&&n%2===0&&"bg-gray-16",c&&c(e,n)),children:t.map(((n,r)=>(0,a.jsx)("td",{className:s()("px-3 py-2",!!n.tip&&"pl-9",o&&0===r&&"rounded-l-lg",o&&r===t.length-1&&"rounded-r-lg"),children:n.render?n.render(e[n.dataIndex]):e[n.dataIndex]},"data_column_".concat(r))))},"table_data_".concat(n))))})]})})}},2632:function(e,t,n){"use strict";n.d(t,{OZ:function(){return u}});var a=n(1527),r=n(9270),s=n(5462),i=n(7361),l=n(4726),c=n(9080),o=n(818),d=n(8633);function u(e){const t=(0,r.dD)();return(0,a.jsx)("div",{className:"text-lg whitespace-nowrap [&:nth-child(n+2)]:mt-6 mo:!mt-0 mo:text-[.9375rem] mo:whitespace-pre",children:t?(0,a.jsxs)("div",{className:"hidden whitespace-normal mo:block text-gray-6",children:[(0,a.jsxs)("span",{className:"text-black font-bold",children:[e.label,":"]})," ",e.text]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-black font-bold",children:e.label}),(0,a.jsx)("div",{className:"text-gray-6",children:e.text})]})})}function m(e){return(0,a.jsx)("a",{href:e.to,className:"inline-block underline whitespace-nowrap mr-5 leading-normal text-sm text-blue-0 mt-[.375rem] mo:mt-[.875rem]",children:e.text})}function x(e){const{data:t}=e,{t:n}=(0,d.$G)();return(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden p-5 pb-8 mo:pb-5",children:[(0,a.jsx)("img",{className:"bg-transparent outline-none border-none w-full aspect-[2/1] object-contain",src:t.imageUrl||c.ES}),(0,a.jsx)("div",{className:"font-semibold text-lg text-black mo:text-base",children:t.displayName}),(0,a.jsxs)("div",{className:"w-full flex flex-wrap",children:[(0,a.jsx)(m,{to:"/product?product_id=".concat(t.id),text:n("View Product Definition")}),(0,a.jsx)(m,{to:"/activities?product_id=".concat(t.id),text:n("View PCF Template")}),(0,a.jsx)(m,{to:"/pcf",text:n("Query PCF Data")})]})]})}t.ZP=function(){var e;const{user:t}=(0,r.aF)(),{value:n,loading:m}=(0,i.k)(l.jw),{t:p}=(0,d.$G)();return t?(0,a.jsx)(s.Z,{className:"text-black",children:m?(0,a.jsx)(o.g,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-2xl font-bold mo:text-lg",children:p("PROFILE")}),(0,a.jsxs)("div",{className:"mt-5 mb-8 w-full bg-white h-[21.5625rem] rounded-lg p-5 flex mo:flex-col mo:h-auto mo:p-[.9375rem] mo:mb-5",children:[(0,a.jsx)("img",{className:"object-scale-down h-full aspect-square bg-transparent rounded-lg border border-black border-solid mo:w-full mo:aspect-[3/2]",src:t.organization.imageUrl||c.hm}),(0,a.jsxs)("div",{className:"py-1 ml-[3.75rem] mo:mt-5 mo:ml-0 mo:py-0",children:[(0,a.jsx)(u,{label:p("Organization"),text:t.organization.displayName}),(0,a.jsx)(u,{label:p("Orgnization Type"),text:t.organization.type}),(0,a.jsx)(u,{label:p("Site"),text:(null===(e=t.organization.sitList[0])||void 0===e?void 0:e.displayName)||"-"}),(0,a.jsx)(u,{label:p("Account Owner"),text:t.name})]}),(0,a.jsxs)("div",{className:"py-1 ml-[5rem] mo:ml-0 mo:py-0",children:[(0,a.jsx)(u,{label:p("Account Role"),text:t.role}),(0,a.jsx)(u,{label:p("Authorization Level"),text:0===t.authLevel?"Read-Only":"Read-Only / Specified Products"}),(0,a.jsx)(u,{label:p("Last Login"),text:t.lastLoginTime})]})]}),(0,a.jsx)("span",{className:"text-2xl font-bold mo:text-lg",children:p("TARGET INVENTORIES")}),n&&(0,a.jsx)("div",{className:"mt-5 w-full grid gap-5 grid-cols-[repeat(auto-fill,minmax(21.875rem,1fr))] mo:grid-cols-1",children:n.map(((e,t)=>(0,a.jsx)(x,{data:e},"product_item_".concat(t))))})]})}):null}},7361:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var a=n(959),r=n(7077);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,a.useRef)(!0),s=(0,a.useRef)(0),[,i]=(0,a.useState)(1),l=(0,a.useCallback)((e=>{n.current=e,i((e=>1-e))}),[]),[c,o]=(0,r.Z)(e,t),d=()=>{n.current||l(!0);const e=s.current+1>1e5?0:s.current+1;s.current=e,o().finally((()=>s.current==e&&l(!1)))};return(0,a.useEffect)((()=>{d()}),t),(0,a.useMemo)((()=>({...c,value:n.current||c.error?void 0:c.value,loading:n.current,req:d})),[c,n.current])}},8416:function(e,t,n){"use strict";n.d(t,{a:function(){return c}});var a=n(8503),r=n(7361),s=n(4726),i=n(3190),l=n(959);function c(){const{value:e,loading:t}=(0,r.k)(s.jw),n=(0,l.useMemo)((()=>(e||[]).map((e=>({...e,text:e.displayName})))),[e]),{query:c}=(0,i.useRouter)(),o=(0,l.useMemo)((()=>{const e=c.product_id;if(e){const t=n.findIndex((t=>"".concat(t.id)==e));if(t>=0)return t}return 0}),[c,n]),{current:d,items:u,onChange:m}=(0,a.d)(n,o),x=n[d];return{products:e,current:d,items:u,onChange:m,current_product:x,loading:t}}},4726:function(e,t,n){"use strict";n.d(t,{Cd:function(){return v},Ii:function(){return g},Pf:function(){return o},RS:function(){return x},Vd:function(){return f},Xg:function(){return b},aA:function(){return j},eO:function(){return p},ep:function(){return h},jw:function(){return m},x4:function(){return d}});var a=n(9270),r=n(8422),s=n(3993),i=n(3273);function l(e){return"".concat(s.Sg).concat(e)}function c(e){const t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}function o(e,t){return()=>t.some((e=>!e))?(0,i._v)():e()}async function d(e,t){return c(await r.Z.post(l("/api/v1/base/login"),{name:e,password:t}))}function u(){const e=(0,a.is)();return e?{headers:{Authorization:"Bearer ".concat(e.loginToken)}}:{}}async function m(){return c(await r.Z.get(l("/api/v1/npi/product/list"),u()))}async function x(e){return c(await r.Z.get(l("/api/v1/npi/product/".concat(e,"/pcf_accountable")),u()))}async function p(e){return c(await r.Z.get(l("/api/v1/npi/product/".concat(e,"/bom/list")),u()))}async function f(e){return c(await r.Z.get(l("/api/v1/npi/product_process/query"),{...u(),params:{product_id:e,include_activity_types:!0}}))}async function h(e){return c(await r.Z.get(l("/api/v1/npi/product/serial_number/".concat(e,"/info")),u()))}async function g(e){return c(await r.Z.get(l("/api/v1/inventory/product/".concat(e,"/inventory")),u()))}async function b(e){return c(await r.Z.get(l("/api/v1/sbt/".concat(e,"/info"))))}async function j(e){return c(await r.Z.get(l("/api/v1/sbt/".concat(e,"/emission/inventory"))))}async function v(e){return c(await r.Z.get(l("/api/v1/sbt/token/".concat(e,"/detail"))))}},6184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(1527),r=n(5462),s=n(8503),i=n(7361),l=n(8416),c=n(4726),o=n(959),d=n(2632),u=n(9080),m=n(818),x=n(8633),p=n(8288),f=n(3517),h=n.n(f);var g=function(){const{t:e}=(0,x.$G)(),{current:t,items:n,onChange:f,current_product:g,loading:b}=(0,l.a)(),{value:j,loading:v}=(0,i.k)((()=>g?(0,c.RS)(g.id):Promise.resolve(void 0)),[g]),{value:N,loading:w}=(0,i.k)((()=>g?(0,c.eO)(g.id):Promise.resolve(void 0)),[g]),y=((0,o.useMemo)((()=>{if(!N||0===N.length)return;const e={};let t="";N.forEach((n=>{null===n.parentPartNumberId&&(t=n.id+""),n.children=[],e[n.id]||(e[n.id]=[]),e[n.id].push(n)})),N.forEach((t=>{const n=e[t.parentPartNumberId];n&&n.forEach(((e,n)=>{e.children.push(n>0?{...t}:t)}))}));const n=e[t];if(n&&n[0]&&n[0].children.length>0){const e=n[0];e.deep=0;const t=e=>{for(const n of e.children)n.deep=e.deep+1,n.parent=e,t(n)};return t(e),e}}),[N]),b||v||void 0==j||w||void 0==N),_=[{title:e("Template Name"),dataIndex:"TemplateName"},{title:e("Version"),dataIndex:"Version"},{title:e("Template Name"),dataIndex:"TemplateName"},{title:e("Description"),dataIndex:"Description"},{title:e("Status"),dataIndex:"Status"},{title:e("LastUpdate"),dataIndex:"LastUpdate"},{title:"",dataIndex:"LastUpdate",render:()=>(0,a.jsx)(h(),{className:"text-blue-0",href:"/template",children:"View Template"})}];return(0,a.jsx)(r.Z,{className:"text-black",children:y?(0,a.jsx)(m.g,{}):(0,a.jsx)(a.Fragment,{children:g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.P,{current:t,items:n,onChange:f}),(0,a.jsx)("div",{className:"text-2xl font-bold my-5 mo:text-lg",children:e("PRODUCT INFO")}),(0,a.jsxs)("div",{className:"w-full bg-white rounded-lg p-5 flex items-center justify-between mo:flex-col mo:items-start",children:[(0,a.jsx)("img",{className:"object-contain w-[15.625rem] aspect-square rounded-lg border border-black border-solid mo:w-full mo:aspect-[3/2]",src:g.imageUrl||u.ES}),(0,a.jsxs)("div",{className:"py-1 ml-[3.75rem] mo:mt-5 mo:ml-0 mo:py-0",children:[(0,a.jsx)(d.OZ,{label:e("Product Name"),text:g.name||"-"}),(0,a.jsx)(d.OZ,{label:e("Display Name"),text:g.displayName}),(0,a.jsx)(d.OZ,{label:e("Product UID"),text:g.id+""})]}),(0,a.jsxs)("div",{className:"py-1 ml-[3.75rem] mo:ml-0 mo:py-0",children:[(0,a.jsx)(d.OZ,{label:e("From Organization"),text:g.organization.displayName+""}),(0,a.jsx)(d.OZ,{label:e("Product Type"),text:g.type}),(0,a.jsx)(d.OZ,{label:e("PCF Accountable"),text:void 0===j?"-":j?"YES":"NO"})]}),(0,a.jsxs)("div",{className:"py-1 ml-[3.75rem] mo:ml-0 mo:py-0",children:[(0,a.jsx)(d.OZ,{label:e("Manufacturing Status"),text:1===g.manufacturingStatus?"Active":"Inactive"}),(0,a.jsx)(d.OZ,{label:e("Created At"),text:g.createTime}),(0,a.jsx)(d.OZ,{label:e("Last Update"),text:g.updateTime})]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold my-5 mo:text-lg",children:e("PCF TEMPLATE MANAGEMENT")}),(0,a.jsx)("div",{className:"bg-white p-5",children:(0,a.jsx)(p.i,{stripe:!0,headerStyle:{background:"#fff"},columns:_,data:[{Version:"czcz",Description:"xxxx"},{Version:"czcz",Description:"xxxx"}]})})]})})})}}},function(e){e.O(0,[13,439,930,222,841,961,774,888,179],(function(){return t=7394,e(e.s=t);var t}));var t=e.O();_N_E=t}]);