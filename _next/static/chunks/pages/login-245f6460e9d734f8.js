(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{552:function(e,t,n){"use strict";var r,a,o,i=n(959);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",l({viewBox:"0 0 93 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M17 23.5v-.004C16.956 11.082 27.05 1 39.5 1 51.946 1 62 11.08 62 23.5S51.901 46 39.5 46C27.054 46 17 35.92 17 23.5ZM30.62 56h19.76C66.76 56 80 69.08 80 85.209v1.964c0 1.215-.595 2.179-1.928 2.995-1.38.846-3.466 1.468-6.195 1.903-5.446.868-13.013.929-21.497.929H30.62c-8.491 0-16.055-.003-21.502-.842-2.73-.42-4.81-1.035-6.186-1.888C1.61 89.45 1 88.46 1 87.173v-1.964C1 69.079 14.241 56 30.62 56Z",stroke:"#000",strokeWidth:2})),a||(a=i.createElement("path",{d:"M55 62.957 73.48 55l18.48 7.957v14.98C90.112 84.488 87.802 91.978 73.48 99 59.066 91.885 55.154 81.993 55 77.936V62.957Z",fill:"#29953A",stroke:"#000",strokeWidth:2,strokeLinecap:"round"})),o||(o=i.createElement("path",{d:"M81.573 69.787a1 1 0 0 1 1.414 0l1.075 1.075a1 1 0 0 1 0 1.414L73.329 83.009a1.76 1.76 0 0 1-2.489 0l-6.333-6.333a1 1 0 0 1 0-1.415l1.075-1.074a1 1 0 0 1 1.414 0l4.381 4.38a1 1 0 0 0 1.414 0l8.782-8.78Z",fill:"#fff"})))}},8316:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1315)}])},1191:function(e,t,n){"use strict";n.d(t,{u:function(){return c},z:function(){return l}});var r=n(1527),a=n(4875),o=n.n(a),i=n(5591);function l(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("button",{...a,className:o()(n,"hover:bg-green-28"),children:e.children})}function c(e){let{busy:t,disabled:n,className:a,defStyle:l="btn-primary",children:c,...u}=e;return(0,r.jsx)("button",{className:o()(a,{[l]:!n,"btn-disable":n}),...u,children:t?(0,r.jsx)(i.fCD,{className:"animate-spin"}):c})}},9003:function(e,t,n){"use strict";n.d(t,{T$:function(){return s},T8:function(){return u}});var r=n(1527),a=n(4875),o=n.n(a),i=n(834),l=n(5283),c=n(7265);function u(e){let{className:t,children:n,...a}=e,c=(0,i.dD)();return(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-fit w-full bg-gray-16 relative",children:[c?(0,r.jsxs)("div",{className:"absolute z-0 top-0 w-full h-[43rem] overflow-hidden bg-green-2 ",children:[(0,r.jsx)("img",{className:"object-cover w-full absolute right-0 bottom-0",src:"/home-bg-r.jpg"}),(0,r.jsx)("div",{className:"w-full h-full absolute ssm:top-[calc(21.5rem_-_75vw)]",style:{background:"linear-gradient(180deg, #29953A 48.84%, rgba(34, 122, 48, 0) 96.76%)"}})]}):(0,r.jsxs)("div",{className:"absolute z-0 top-0 w-full h-[48.75rem] bg-green-2 overflow-hidden",children:[(0,r.jsx)("img",{className:"object-cover h-full absolute right-0 top-0",src:"/home-bg-r.jpg"}),(0,r.jsx)("div",{className:"w-full h-full absolute lg:left-[calc(50%_-_45rem)]",style:{background:"linear-gradient(182.16deg, #000000 -4.66%, rgba(0, 0, 0, 0) 17.13%)",transform:"matrix(-1, 0, 0, 1, 0, 0)"}}),(0,r.jsx)("div",{className:"w-full h-full absolute lg:left-[calc(50%_-_45rem)]",style:{background:"linear-gradient(270deg, #29953A 38.28%, rgba(34, 122, 48, 0) 77.8%)",transform:"matrix(-1, 0, 0, 1, 0, 0)"}})]}),(0,r.jsx)(l.h4,{className:"h-[6.75rem] mo:h-[4.25rem] mo:sticky mo:bg-white mo:text-green-2 mo:p-4"}),(0,r.jsx)("div",{className:o()("z-[2] flex-1 relative w-full mx-auto mo:mx-0 mo:flex mo:flex-col",t),...a,children:n})]})}function s(e){let{className:t,tits:n,isManager:a,children:u,...s}=e,d=(0,i.dD)(),f=(0,c.R)();return(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-fit w-full relative",children:[d?(0,r.jsx)(l.DJ,{}):(0,r.jsx)(l.h4,{tits:n,isManager:a,style:{top:"".concat(f,"px")},className:"!sticky px-[3.125rem] py-4 !max-w-none bg-green-2"}),(0,r.jsx)("div",{className:o()("z-[2] flex-1 relative w-full py-6 px-[3.125rem] mx-auto mo:px-5",t),...s,children:u})]})}},5858:function(e,t,n){"use strict";n.d(t,{I:function(){return c},g:function(){return l}});var r=n(1527),a=n(4875),o=n.n(a),i=n(1671);function l(e){let{className:t,color:n,size:a="",...l}=e;return(0,r.jsx)("div",{...l,className:o()("text-black w-full h-full flex items-center justify-center",t),children:(0,r.jsx)(i.uur,{color:n,style:{fontSize:a},className:"text-[3.125rem] animate-spin"})})}function c(){return(0,r.jsx)(l,{className:"fixed z-50 left-0 top-0 w-full !h-full bg-black/25"})}},6699:function(e,t,n){"use strict";n.d(t,{AC:function(){return M},Ii:function(){return v},Iv:function(){return C},LW:function(){return S},Pf:function(){return u},Ps:function(){return j},RN:function(){return h},RS:function(){return p},SO:function(){return w},Vd:function(){return g},av:function(){return N},eO:function(){return m},ep:function(){return x},fF:function(){return b},jw:function(){return f},pF:function(){return y},vz:function(){return k},x4:function(){return s}});var r=n(834),a=n(8422),o=n(58),i=n(9701);function l(e){return"".concat(o.Sg).concat(e)}function c(e){var t;let n=e.data;if(n){if(n.code&&1e5!==n.code)throw n.message;return null===(t=e.data)||void 0===t?void 0:t.data}}function u(e,t){return()=>t.some(e=>!e)?(0,i._v)():e()}async function s(e,t){let n=await a.default.post(l("/api/base/login"),{name:e,password:t});return c(n)}function d(){let e=(0,r.is)();return e?{headers:{Authorization:"Bearer ".concat(e.loginToken)}}:{}}async function f(){let e=await a.default.get(l("/api/npi/product/list"),d());return c(e)}async function p(e){let t=await a.default.get(l("/api/npi/product/".concat(e,"/pcf_accountable")),d());return c(t)}async function m(e){let t=await a.default.get(l("/api/npi/product/".concat(e,"/bom/list")),d());return c(t)}async function h(e){let t=await a.default.get(l("/api/npi/product_bom/".concat(e,"/activity_types")),d());return c(t)}async function g(e){let t=await a.default.get(l("/api/npi/product_process/query"),{...d(),params:{product_id:e,include_activity_types:!0}});return c(t)}async function x(e){let t=await a.default.get(l("/api/npi/product/serial_number/".concat(e,"/info")),d());return c(t)}async function v(e){let t=await a.default.get(l("/api/inventory/product/".concat(e,"/inventory")),d());return c(t)}async function w(e){let{pgNum:t}=e,n=await a.default.get(l("/api/product-lca/result/query?pageNum=".concat(t,"&pageSize=10")),d());return c(n)}async function b(e){let t=await a.default.get(l("/api/product-lca/result/detail/".concat(e)),d());return c(t)}async function y(e,t){let n=await a.default.post(l("/api/product-lca/model/state/".concat(e,"/update/").concat(t)),null,d());return c(n)}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d();return n.headers&&(n.headers["Content-Type"]="multipart/form-data"),await a.default.post(l("/api/product-lca/model/upload"),e,{...n,...t})}async function j(){let e=await a.default.get(l("/api/product/category/query"),d());return c(e)}async function k(e){let t=await a.default.get(l("/api/product-system/list/?pageNum=".concat(e,"&pageSize=10")),d());return c(t)}async function E(e){let t=await a.default.get(l("/api/product-lca/model/".concat(e,"/descriptors")),d());return JSON.parse(c(t))}async function _(e){let t=await a.default.get(l("/api/product-lca/model/".concat(e,"/categories")),d());return JSON.parse(c(t))}async function C(e){let t=await _(e),n=await E(e);return[t,n]}async function M(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=await a.default.get(l("/api/product-lca/model/".concat(e,"/item/").concat(t,"/").concat(n,"/info?fromMethod=").concat(r)),d());return JSON.parse(c(o))}async function S(e){let t=d(),n=await a.default.get(l("/api/product-lca/result/".concat(e,"/export")),Object.assign(t,{responseType:"blob"}));return n}},1315:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(1527),a=n(1191),o=n(834),i=n(9003),l=n(5858),c=n(4560),u=n(6529),s=n(6699),d=n(552),f=n(8948),p=n(959),m=n(9592),h=function(){let{t:e}=(0,u.NT)(),t=(0,c.U)(),[n,h]=(0,p.useState)(""),g=(0,p.useCallback)(e=>{h(e.target.value||"")},[]),[x,v]=(0,p.useState)(""),w=(0,p.useCallback)(e=>{v(e.target.value||"")},[]),{push:b}=(0,f.useRouter)(),y=(0,o.h3)(),N=(0,o.dD)(),{setUser:j}=(0,o.aF)(),[k,E]=(0,m.Z)(!1),_=()=>{if(!n||!x)return y("Please input account and password");E(!0),(0,s.x4)(n,x).then(e=>(j(e,!0),b("/carbon/allService"))).catch(y).then(()=>E(!1))};return(0,r.jsxs)(i.T$,{className:"flex flex-col text-black",children:[N?(0,r.jsx)("p",{className:"flex flex-1 items-center justify-center mt-[-20%]",children:"登录使用请移至web端"}):(0,r.jsxs)("div",{className:"flex flex-col items-center ",children:[(0,r.jsx)("button",{onClick:t,className:"self-start mb-[5.625rem] mo:hidden",children:"< ".concat(e("Back"))}),(0,r.jsx)(d.Z,{className:"h-[6.125rem] mo:mt-[5.125rem] mo:h-[5rem]"}),(0,r.jsx)("input",{value:n,type:"text",maxLength:24,onChange:g,onKeyDown:e=>"Enter"===e.code&&_(),placeholder:e("Account")||"",className:"outline-none w-full mt-[5.75rem] mb-5 max-w-[420px] min-h-[40px] h-[3.125rem] px-4 whitespace-nowrap rounded-lg mo:text-sm mo:px-5 mo:py-4",style:{border:"1px solid #DDDDDD",background:"#F8F8F8"}}),(0,r.jsx)("input",{value:x,type:"password",maxLength:32,onChange:w,onKeyDown:e=>"Enter"===e.code&&_(),placeholder:e("Password")||"",className:"outline-none w-full mb-5 max-w-[420px] min-h-[40px] h-[3.125rem] px-4 whitespace-nowrap rounded-lg mo:text-sm mo:px-5 mo:py-4",style:{border:"1px solid #DDDDDD",background:"#F8F8F8"}}),(0,r.jsx)(a.z,{onClick:_,className:"w-full max-w-[420px] min-h-[40px] h-[3.125rem] mb-40 text-center text-2xl text-white bg-green-2 rounded-lg mo:text-lg",children:e("Sign in")})]}),k&&(0,r.jsx)(l.I,{})]})}},8723:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(959),a=["mousedown","touchstart"],o=function(e,t,n){void 0===n&&(n=a);var o=(0,r.useRef)(t);(0,r.useEffect)(function(){o.current=t},[t]),(0,r.useEffect)(function(){for(var t=function(t){var n=e.current;n&&!n.contains(t.target)&&o.current(t)},r=0,a=n;r<a.length;r++){var i=a[r];!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(document,i,t)}return function(){for(var e=0,r=n;e<r.length;e++){var a=r[e];!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(document,a,t)}}},[n,e])}},9592:function(e,t,n){"use strict";var r=n(959),a=function(e,t){return"boolean"==typeof t?t:!e};t.Z=function(e){return(0,r.useReducer)(a,e)}},732:function(e,t,n){"use strict";let r,a,o;n.d(t,{ZP:function(){return M}});let i=new Set,l=new WeakMap,c=new WeakMap,u=new WeakMap,s=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakSet,h="__aa_tgt",g="__aa_del";function x(e){clearTimeout(p.get(e));let t=k(e),n="function"==typeof t?500:t.duration;p.set(e,setTimeout(async()=>{let t=u.get(e);try{await (null==t?void 0:t.finished),l.set(e,N(e)),function(e){let t=s.get(e);null==t||t.disconnect();let n=l.get(e),a=0;n||(n=N(e),l.set(e,n));let{offsetWidth:o,offsetHeight:i}=r,c=[n.top-5,o-(n.left+5+n.width),i-(n.top+5+n.height),n.left-5],u=c.map(e=>`${-1*Math.floor(e)}px`).join(" "),d=new IntersectionObserver(()=>{++a>1&&x(e)},{root:r,threshold:1,rootMargin:u});d.observe(e),s.set(e,d)}(e)}catch{}},n))}function v(e){setTimeout(()=>{d.set(e,setInterval(()=>w(x.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function w(e){"function"==typeof requestIdleCallback?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}function b(e,t){t||h in e?!t||h in t||Object.defineProperty(t,h,{value:e}):Object.defineProperty(e,h,{value:e})}function y(e){return Number(e.replace(/[^0-9.\-]/g,""))}function N(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function j(e,t,n){let r=t.width,a=t.height,o=n.width,i=n.height,l=getComputedStyle(e),c=l.getPropertyValue("box-sizing");if("content-box"===c){let e=y(l.paddingTop)+y(l.paddingBottom)+y(l.borderTopWidth)+y(l.borderBottomWidth),t=y(l.paddingLeft)+y(l.paddingRight)+y(l.borderRightWidth)+y(l.borderLeftWidth);r-=t,o-=t,a-=e,i-=e}return[r,o,a,i].map(Math.round)}function k(e){return h in e&&f.has(e[h])?f.get(e[h]):{duration:250,easing:"ease-in-out"}}function E(e){if(h in e)return e[h]}function _(e){let t=E(e);return!!t&&m.has(t)}function C(e,...t){t.forEach(t=>t(e,f.has(e)));for(let n=0;n<e.children.length;n++){let r=e.children.item(n);r&&t.forEach(e=>e(r,f.has(r)))}}function M(e,t={}){if(a&&o){let n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=n.matches&&"function"!=typeof t&&!t.disrespectUserMotionPreference;r||(m.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),C(e,x,v,e=>null==o?void 0:o.observe(e)),"function"==typeof t?f.set(e,t):f.set(e,{duration:250,easing:"ease-in-out",...t}),a.observe(e,{childList:!0}),i.add(e))}return Object.freeze({parent:e,enable:()=>{m.add(e)},disable:()=>{m.delete(e)},isEnabled:()=>m.has(e)})}"undefined"!=typeof window&&(r=document.documentElement,a=new MutationObserver(e=>{let t=function(e){let t=e.reduce((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)],[]),n=t.every(e=>"#comment"===e.nodeName);return!n&&e.reduce((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(b(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){let r=t.target.children.item(n);if(r){if(g in r)return!1;b(t.target,r),e.add(r)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){let r=t.removedNodes[n];if(g in r)return!1;r instanceof Element&&(e.add(r),b(t.target,r),c.set(r,[t.previousSibling,t.nextSibling]))}}return e},new Set)}(e);t&&t.forEach(e=>(function(e){var t;let n=e.isConnected,r=l.has(e);n&&c.has(e)&&c.delete(e),u.has(e)&&(null===(t=u.get(e))||void 0===t||t.cancel()),r&&n?function(e){let t;let n=l.get(e),r=N(e);if(!_(e))return l.set(e,r);if(!n)return;let a=k(e);if("function"!=typeof a){let o=n.left-r.left,i=n.top-r.top,[l,c,u,s]=j(e,n,r),d={transform:`translate(${o}px, ${i}px)`},f={transform:"translate(0, 0)"};l!==c&&(d.width=`${l}px`,f.width=`${c}px`),u!==s&&(d.height=`${u}px`,f.height=`${s}px`),t=e.animate([d,f],{duration:a.duration,easing:a.easing})}else(t=new Animation(a(e,"remain",n,r))).play();u.set(e,t),l.set(e,r),t.addEventListener("finish",x.bind(null,e))}(e):r&&!n?function(e){var t;let n;if(!c.has(e)||!l.has(e))return;let[r,a]=c.get(e);function o(){var t;e.remove(),l.delete(e),c.delete(e),u.delete(e),null===(t=s.get(e))||void 0===t||t.disconnect()}if(Object.defineProperty(e,g,{value:!0}),a&&a.parentNode&&a.parentNode instanceof Element?a.parentNode.insertBefore(e,a):r&&r.parentNode?r.parentNode.appendChild(e):null===(t=E(e))||void 0===t||t.appendChild(e),!_(e))return o();let[i,d,f,p]=function(e){let t=l.get(e),[n,,r]=j(e,t,N(e)),a=e.parentElement;for(;a&&("static"===getComputedStyle(a).position||a instanceof HTMLBodyElement);)a=a.parentElement;a||(a=document.body);let o=getComputedStyle(a),i=l.get(a)||N(a),c=Math.round(t.top-i.top)-y(o.borderTopWidth),u=Math.round(t.left-i.left)-y(o.borderLeftWidth);return[c,u,n,r]}(e),m=k(e),h=l.get(e);Object.assign(e.style,{position:"absolute",top:`${i}px`,left:`${d}px`,width:`${f}px`,height:`${p}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof m?n=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:m.duration,easing:"ease-out"}):(n=new Animation(m(e,"remove",h))).play(),u.set(e,n),n.addEventListener("finish",o)}(e):function(e){let t;let n=N(e);l.set(e,n);let r=k(e);_(e)&&("function"!=typeof r?t=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*r.duration,easing:"ease-in"}):(t=new Animation(r(e,"add",n))).play(),u.set(e,t),t.addEventListener("finish",x.bind(null,e)))}(e)})(e))}),(o=new ResizeObserver(e=>{e.forEach(e=>{e.target===r&&(clearTimeout(p.get(r)),p.set(r,setTimeout(()=>{i.forEach(e=>C(e,e=>w(()=>x(e))))},100))),l.has(e.target)&&x(e.target)})})).observe(r))}},function(e){e.O(0,[713,769,7307,6574,6740,2351,9774,2888,179],function(){return e(e.s=8316)}),_N_E=e.O()}]);