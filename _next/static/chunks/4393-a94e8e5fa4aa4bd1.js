"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4393],{1191:function(e,t,n){n.d(t,{u:function(){return s},z:function(){return i}});var a=n(1527),r=n(4875),l=n.n(r),c=n(5591);function i(e){let{children:t,className:n,...r}=e;return(0,a.jsx)("button",{...r,className:l()(n,"hover:bg-green-28"),children:e.children})}function s(e){let{busy:t,disabled:n,className:r,defStyle:i="btn-primary",children:s,...o}=e;return(0,a.jsx)("button",{className:l()(r,{[i]:!n,"btn-disable":n}),...o,children:t?(0,a.jsx)(c.fCD,{className:"animate-spin"}):s})}},5858:function(e,t,n){n.d(t,{I:function(){return s},g:function(){return i}});var a=n(1527),r=n(4875),l=n.n(r),c=n(1671);function i(e){let{className:t,color:n,size:r="",...i}=e;return(0,a.jsx)("div",{...i,className:l()("text-black w-full h-full flex items-center justify-center",t),children:(0,a.jsx)(c.uur,{color:n,style:r?{fontSize:r}:{},className:"text-[3.125rem] animate-spin"})})}function s(){return(0,a.jsx)(i,{className:"fixed z-50 left-0 top-0 w-full !h-full bg-black/25"})}},9869:function(e,t,n){n.d(t,{t:function(){return s}});var a=n(1527),r=n(959),l=n(4875),c=n.n(l),i=n(1875);function s(e){let t=(e,t)=>{let n=[];if(t){for(let a=e;a<t;a++)n.push(a);return n}for(let t=0;t<e;t++)n.push(t);return n},{total:n,pgSize:l,pgNum:s,onChange:o,className:u}=e,d=Math.ceil(n/l),m=(0,r.useMemo)(()=>d<=1?[]:d<=6?t(d).map(e=>({name:"".concat(e+1)})):s<=3?t(s+1).map(e=>({name:"".concat(e+1)})).concat([{name:"..."},{name:""+d}]):s>=d-2?[{name:"1"},{name:"..."}].concat(t(s-2,d).map(e=>({name:"".concat(e+1)}))):[{name:"1"},{name:"..."},{name:s-1+""},{name:s+""},{name:s+1+""},{name:"..."},{name:d+""}],[d,s]);return n<=l?null:(0,a.jsx)("div",{className:c()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",u),children:(0,a.jsxs)("div",{className:"flex",children:[d>1&&(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{onClick:()=>{o&&o(1)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)(i.JHF,{})}),(0,a.jsx)("span",{onClick:()=>{o&&s>1&&o(s-1)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)(i.YFh,{})})]}),m.map((e,t)=>(0,a.jsx)("div",{className:c()(e.name===""+s?"text-white bg-green-2":"bg-white",{omit:"..."===e.name},"mx-[0.185rem] flex items-center justify-center min-w-[32px] h-[32px] px-1.5 rounded-lg","..."!=e.name&&"border cursor-pointer"),onClick:()=>{o&&"..."!==e.name&&o(+e.name)},children:e.name},"key_page_".concat(t))),d>1&&(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{onClick:()=>{o&&s<d&&o(s+1)},className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)(i.Tfp,{})}),(0,a.jsx)("span",{onClick:()=>{o&&o(d)},className:" mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)(i.qhs,{})})]})]})})}},9346:function(e,t,n){n.d(t,{i:function(){return m}});var a=n(1527),r=n(4875),l=n.n(r),c=n(4323),i=n(1875),s=n(959),o=n(5858),u=n(8723),d=n(9401);let m=e=>{let{columns:t,data:n,className:r,cellClassName:m,headerClassName:f,size:p="",maxHeight:x,loading:h=!1,hiddenHeader:g=!1,mouseHoverKey:v="",columnsHeight:y="",isSetBorder:j=!1,tableId:w}=e,[b,N]=(0,s.useState)(n||[]),[k,I]=(0,s.useState)({}),[F,O]=(0,s.useState)({}),_=(0,s.useRef)(null);(0,u.Z)(_,()=>{for(let e in k)k[e]&&(k[e].isFilterOpen=!1,I({...k}))}),(0,s.useEffect)(()=>{N(n)},[n]),(0,s.useEffect)(()=>{t.map(e=>{if(e.filterOptions){var t;k[e.dataIndex]={isFilterOpen:!1,filterValueIndex:(null===(t=k[e.dataIndex])||void 0===t?void 0:t.filterValueIndex)>-1?k[e.dataIndex].filterValueIndex:-1}}}),I(k)},[t]);let C=e=>{if(void 0===b[e].level&&(b[e].level=0),b[e].children.map(t=>{t.level=b[e].level+1}),b[e].open=!b[e].open,b[e].open)N(b.slice(0,e+1).concat(b[e].children).concat(b.slice(e+1)));else{let t=b[e].children.length;b[e].children.map(e=>{e.open&&(e.open=!1,t+=e.children.length)}),b.splice(e+1,t),N([...b])}},S=(e,t)=>{Object.assign(k,{[e.dataIndex]:{filterValueIndex:t,isFilterOpen:!1}}),e.onFilterChange&&e.onFilterChange(t>-1?e.filterOptions[t]:null),I(k)},V=e=>{k[e.dataIndex].isFilterOpen=!k[e.dataIndex].isFilterOpen,I({...k})};return(0,a.jsxs)("div",{className:l()("w-full",r,"small"===p&&"text-xs","big"===p&&"text-lg mo:text-[.9375rem] "),children:[(0,a.jsxs)("table",{border:1,cellSpacing:0,className:"w-full text-left ",id:w,children:[!g&&(0,a.jsx)("thead",{className:l()("bg-gray-14 ",{"border bg-[#E5E5E5]":j},r,"small"===p&&"text-sm"),style:f,children:(0,a.jsx)("tr",{className:"px-3",children:t&&t.map((e,n)=>{var r;return(0,a.jsxs)("th",{style:{width:e.width?e.width:"auto"},className:l()("px-3 relative break-keep",0===n&&" ".concat(!j&&"rounded-l"||""," overflow-hidden"),n===t.length-1&&"".concat(!j&&"rounded-r"||""," overflow-hidden"),d.NO[p]||"py-2"),children:[!!e.tip&&(0,a.jsx)(c.gL9,{"data-tooltip-id":"tooltip","data-tooltip-content":e.tip,className:"inline-block text-xl mt-[-0.15rem] mr-1"}),(0,a.jsx)("span",{children:e.title}),!!k[e.dataIndex]&&(0,a.jsxs)("div",{className:"inline-block",ref:_,children:[(0,a.jsx)(i.Ihx,{color:(null===(r=k[e.dataIndex])||void 0===r?void 0:r.filterValueIndex)>-1?"#29953A":"",onClick:()=>{V(e)},className:"inline-block text-xl mt-[-0.15rem] ml-1 cursor-pointer"}),k[e.dataIndex].isFilterOpen&&(0,a.jsx)("div",{className:"absolute left-0 font-normal top-10",children:(0,a.jsxs)("ul",{className:"bg-white w-[12.375rem] max-h-[14.875rem] overflow-auto text-sm rounded-lg py-3",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)("li",{className:l()("py-2.5 px-5 hover:bg-[#F3F3F3] cursor-pointer",-1===k[e.dataIndex].filterValueIndex&&"text-green-2"),onClick:()=>{S(e,-1)},children:"All"}),e.filterOptions.map((t,n)=>(0,a.jsx)("li",{onClick:()=>{S(e,n)},className:l()("py-1.5 hover:bg-[#F3F3F3] px-5 break-all cursor-pointer",k[e.dataIndex].filterValueIndex===n?"text-green-2":""),children:t.text},"productList".concat(n)))]})})]})]},"columns".concat(n))})})}),!h&&(0,a.jsx)("tbody",{style:{maxHeight:x},className:"w-full overflow-y-auto ",children:b.map((e,n)=>(0,a.jsx)("tr",{className:" column-level-".concat(e.level?e.level:0," ").concat(y," "),children:t.map((t,r)=>(0,a.jsx)("td",{className:l()("px-3 cursor-pointer  ",{"bg-[#F3F3F3]":F[v]===e[v],border:j},d.NO[p]||"py-2",!!t.tip&&"pl-9",m&&m(t,r,n)),style:{width:t.width?t.width:"auto"},children:(0,a.jsxs)("div",{onMouseOver:()=>O(e),className:"flex items-center ",style:{marginLeft:(e.level&&0===r?e.level:0)*1.25+"rem"},children:[!!(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0&&0===r&&(0,a.jsx)(i.Tfp,{onClick:()=>C(n),className:l()("mr-2 cursor-pointer text-gray-9",e.open&&"rotate-[90deg]")}),t.render?t.render(e[t.dataIndex],e):t.emptyText&&!e[t.dataIndex]?"-":e[t.dataIndex]]})},"data_column_".concat(r)))},"table_data_".concat(n)))})]}),h?(0,a.jsx)(o.g,{className:"pt-8"}):!(b&&b.length>0)&&(0,a.jsx)("div",{className:"flex justify-center w-full py-20",children:"无数据"})]})}},1600:function(e,t,n){n.d(t,{m:function(){return h}});var a=n(1527),r=n(8948),l=n(7265),c=n(1875),i=n(834),s=n(4875),o=n.n(s),u=n(7478),d=n(2810),m=n(8189),f=n(5487),p=n(5283);function x(e){let{children:t,className:n,tits:l,showQuery:c,isManager:s,...x}=e,{push:h}=(0,r.useRouter)(),g=(0,p.fo)();return(0,i.dD)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:o()("w-full relative z-[3] max-w-[90rem] mx-auto text-white flex items-center top-0 px-[7.5rem] h-[4.25rem] justify-between",n),...x,children:[(0,a.jsxs)("div",{className:"flex items-center cursor-pointer ml-[-1rem] mo:ml-0",onClick:()=>h("/"),children:[(0,a.jsx)(u.Z,{className:"h-[2.275rem] mo:h-[2rem]"}),(0,a.jsx)(d.Z,{className:"h-[1.5rem] mt-2.5 ml-3 mo:h-[1.1rem] mo:mt-3"})]}),(0,a.jsx)(m.R,{menus:g,children:(0,a.jsx)("button",{className:"text-[2rem] mo:text-2xl",children:(0,a.jsx)(f.otZ,{})})})]})})}function h(e){let{className:t,canBack:n,children:i,isNew:s,...u}=e,{push:d,pathname:m}=(0,r.useRouter)(),f=(0,l.R)();return(0,a.jsxs)("div",{className:"relative flex flex-col flex-1 w-full h-full min-h-fit bg-gray-16",children:[(0,a.jsx)(x,{showQuery:!0,style:{top:"".concat(f,"px")},className:"!sticky px-[3.125rem] py-4 !max-w-none bg-green-2 mo:px-4 mo:h-[4.25rem]"}),(0,a.jsxs)("div",{className:o()("w-full h-full mx-auto px-[60px] flex flex-col flex-1",{" max-w-[90rem]":!s}),children:[n&&(0,a.jsxs)("div",{className:"flex items-center my-5 text-sm cursor-pointer",onClick:()=>d("/carbon/service"),children:[(0,a.jsx)(c.YFh,{className:"text-lg"}),"返回"]}),(0,a.jsx)("div",{className:o()("flex flex-col ",t),children:i})]})]})}},5088:function(e,t,n){n.d(t,{d:function(){return d}});var a=n(1527),r=n(9049),l=n(959);function c(){return(0,a.jsx)("tr",{className:" text-black text-center text-lg font-normal ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top",children:"无数据"})})}var i=e=>{let{header:t,data:n,empty:r=(0,a.jsx)(c,{}),className:l="min-w-full divide-y divide-neutral-200",headerClassName:i="bg-neutral-200 text-left text-black text-lg font-bold leading-[27px]",headerItemClassName:s="p-3",tbodyClassName:o="bg-white divide-y divide-neutral-200",rowClassName:u="text-black text-sm font-normal whitespace-nowrap",cellClassName:d="p-3"}=e;return(0,a.jsxs)("table",{className:l,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:i,children:t.map((e,t)=>(0,a.jsx)("th",{scope:"col",className:s,children:e},t))})}),(0,a.jsxs)("tbody",{className:o,children:[n.map((e,t)=>(0,a.jsx)("tr",{className:u,children:e.map((e,t)=>(0,a.jsx)("td",{className:d,children:e},t))},t)),0===n.length&&r]})]})},s=n(9701),o=n(2699),u=n.n(o);function d(e){let{data:t,inputData:n,...c}=e,o=(0,l.useMemo)(()=>{var e;if(!t)return[];let a=n?u().mapKeys("string"==typeof n?(0,s.OA)(n)||[]:n,e=>e.paramName):{},r=(0,s.OA)(t)||[],l=(null===(e=r[0])||void 0===e?void 0:e.parameters)||[];return l.map(e=>{var t;return[e.name,e.context.name,e.value,(null===(t=a[e.name])||void 0===t?void 0:t.paramValue)||""]})},[t,n]);return(0,a.jsx)(r.u_,{title:"实景参数列表",...c,children:(0,a.jsx)(i,{className:"w-[40rem]",data:o,header:["参数名","过程名称","参考值","输入值"]})})}},6699:function(e,t,n){n.d(t,{AC:function(){return C},E:function(){return E},Ii:function(){return v},Iv:function(){return _},LW:function(){return S},NF:function(){return R},Pf:function(){return o},Ps:function(){return N},RN:function(){return x},RS:function(){return f},Vd:function(){return h},av:function(){return b},bc:function(){return k},eO:function(){return p},ep:function(){return g},ev:function(){return z},fF:function(){return j},h4:function(){return y},jw:function(){return m},k8:function(){return V},pF:function(){return w},vz:function(){return I},x4:function(){return u}});var a=n(834),r=n(8422),l=n(58),c=n(9701);function i(e){return"".concat(l.Sg).concat(e)}function s(e){var t;let n=e.data;if(!n||1e5!==n.code)throw n.message;return null===(t=e.data)||void 0===t?void 0:t.data}function o(e,t){return()=>t.some(e=>!e)?(0,c._v)():e()}async function u(e,t){let n=await r.default.post(i("/api/base/login"),{name:e,password:t});return s(n)}function d(){let e=(0,a.is)();return e?{headers:{Authorization:"Bearer ".concat(e.loginToken)}}:{}}async function m(){let e=await r.default.get(i("/api/npi/product/list"),d());return s(e)}async function f(e){let t=await r.default.get(i("/api/npi/product/".concat(e,"/pcf_accountable")),d());return s(t)}async function p(e){let t=await r.default.get(i("/api/npi/product/".concat(e,"/bom/list")),d());return s(t)}async function x(e){let t=await r.default.get(i("/api/npi/product_bom/".concat(e,"/activity_types")),d());return s(t)}async function h(e){let t=await r.default.get(i("/api/npi/product_process/query"),{...d(),params:{product_id:e,include_activity_types:!0}});return s(t)}async function g(e){let t=await r.default.get(i("/api/npi/product/serial_number/".concat(e,"/info")),d());return s(t)}async function v(e){let t=await r.default.get(i("/api/inventory/product/".concat(e,"/inventory")),d());return s(t)}async function y(e){let t=await r.default.get(i("/api/inventory/list/?pageNum=".concat(e,"&pageSize=10")),d());return s(t)}async function j(e){let t=await r.default.get(i("/api/product-lca/result/detail/".concat(e)),d());return s(t)}async function w(e,t){let n=await r.default.post(i("/api/product-lca/model/state/".concat(e,"/update/").concat(t)),null,d());return s(n)}async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d();n.headers&&(n.headers["Content-Type"]="multipart/form-data");let a=await r.default.post(i("/api/product-lca/model/upload"),e,{...n,...t});return s(a)}async function N(){let e=await r.default.get(i("/api/product/category/query"),d());return s(e)}async function k(e){let{id:t,name:n,description:a,modelId:l}=e,c=await r.default.post(i("/api/product-system/upsert"),{id:t,name:n,description:a,modelId:l},d());return s(c)}async function I(e){let t=await r.default.get(i("/api/product-system/list/?pageNum=".concat(e,"&pageSize=10")),d());return s(t)}async function F(e){let t=await r.default.get(i("/api/product-lca/model/".concat(e,"/descriptors")),d());return JSON.parse(s(t))}async function O(e){let t=await r.default.get(i("/api/product-lca/model/".concat(e,"/categories")),d());return JSON.parse(s(t))}async function _(e){let t=await O(e),n=await F(e);return[t,n]}async function C(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=await r.default.get(i("/api/product-lca/model/".concat(e,"/item/").concat(t,"/").concat(n,"/info?fromMethod=").concat(a)),d());return JSON.parse(s(l))}async function S(e){let t=d(),n=await r.default.get(i("/api/product-lca/result/".concat(e,"/export")),Object.assign(t,{responseType:"blob"}));return n}async function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await r.default.get(i(e),{...d(),params:t});return s(n)}async function z(){let e=await r.default.get(i("/api/product-system/all"),d());return s(e)}async function E(e){let t=await r.default.post(i("/api/inventory/item/upload"),e,d());return s(t)}async function R(e){let t=await r.default.get(i("/api/product-system/".concat(e,"/params")),d());return s(t)}}}]);